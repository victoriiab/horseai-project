{% extends 'frontend/base.html' %}

{% block title %}HorseAI - –ê–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ª–æ—à–∞–¥–µ–π{% endblock %}

{% block extra_css %}
<style>
    /* –°—Ç–∏–ª–∏ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    .hero-section {
        background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-hover) 100%);
        border-radius: var(--radius-lg);
        padding: 60px 40px;
        text-align: center;
        margin-bottom: 40px;
        border: 1px solid var(--border);
        position: relative;
        overflow: hidden;
    }
    
    .hero-section::before {
        content: 'üêé';
        position: absolute;
        font-size: 200px;
        opacity: 0.05;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 0;
    }
    
    .hero-content {
        position: relative;
        z-index: 1;
    }
    
    .hero-title {
        font-size: 48px;
        font-weight: 800;
        background: linear-gradient(135deg, var(--accent-light), var(--accent));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 20px;
        line-height: 1.2;
    }
    
    .hero-subtitle {
        font-size: 20px;
        color: var(--text-secondary);
        max-width: 800px;
        margin: 0 auto 30px;
        line-height: 1.6;
    }
    
    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-bottom: 50px;
    }
    
    .feature-card {
        background: var(--bg-card);
        border: 1px solid var(--border);
        border-radius: var(--radius-lg);
        padding: 32px;
        transition: all 0.3s ease;
        position: relative;
    }
    
    .feature-card:hover {
        border-color: var(--accent);
        transform: translateY(-5px);
        box-shadow: var(--shadow-lg), var(--glow);
    }
    
    .feature-icon {
        font-size: 48px;
        margin-bottom: 20px;
        display: inline-block;
    }
    
    .feature-title {
        font-size: 22px;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 12px;
    }
    
    .feature-description {
        color: var(--text-secondary);
        line-height: 1.6;
        font-size: 15px;
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
    }
    
    .stat-card {
        background: linear-gradient(135deg, var(--bg-card), var(--bg-hover));
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 24px;
        text-align: center;
        transition: all 0.3s ease;
    }
    
    .stat-card:hover {
        border-color: var(--accent);
        box-shadow: var(--glow);
    }
    
    .stat-number {
        font-size: 36px;
        font-weight: 800;
        color: var(--accent-light);
        display: block;
        margin-bottom: 8px;
    }
    
    .stat-label {
        color: var(--text-secondary);
        font-size: 14px;
        font-weight: 500;
    }
    
    .action-buttons {
        display: flex;
        gap: 16px;
        justify-content: center;
        margin-top: 40px;
        flex-wrap: wrap;
    }
    
    .btn-hero {
        padding: 16px 32px;
        font-size: 16px;
        font-weight: 600;
        border-radius: var(--radius);
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        transition: all 0.3s ease;
    }
    
    .btn-primary-lg {
        background: linear-gradient(135deg, var(--accent), var(--earth));
        color: white;
        border: none;
    }
    
    .btn-primary-lg:hover {
        background: linear-gradient(135deg, var(--accent-hover), var(--accent));
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg), var(--glow);
    }
    
    .btn-secondary-lg {
        background: var(--bg-hover);
        color: var(--text-primary);
        border: 1px solid var(--border-light);
    }
    
    .btn-secondary-lg:hover {
        background: var(--border);
        border-color: var(--accent);
        transform: translateY(-2px);
    }
    
    .user-dashboard {
        background: var(--bg-card);
        border-radius: var(--radius-lg);
        padding: 40px;
        border: 1px solid var(--border);
        margin-bottom: 40px;
    }
    
    .user-greeting {
        font-size: 28px;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 10px;
    }
    
    .user-subtitle {
        color: var(--text-secondary);
        font-size: 16px;
        margin-bottom: 30px;
    }
    
    .quick-actions {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
    }
    
    .quick-action-card {
        background: linear-gradient(135deg, var(--bg-hover), var(--bg-card));
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 24px;
        text-decoration: none;
        color: var(--text-primary);
        transition: all 0.3s ease;
        display: block;
    }
    
    .quick-action-card:hover {
        border-color: var(--accent);
        transform: translateY(-3px);
        box-shadow: var(--shadow-lg);
    }
    
    .quick-action-icon {
        font-size: 32px;
        margin-bottom: 15px;
        display: block;
    }
    
    .quick-action-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 8px;
    }
    
    .quick-action-desc {
        color: var(--text-secondary);
        font-size: 14px;
        line-height: 1.5;
    }
    
    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 768px) {
        .hero-section {
            padding: 40px 20px;
        }
        
        .hero-title {
            font-size: 36px;
        }
        
        .hero-subtitle {
            font-size: 18px;
        }
        
        .features-grid {
            grid-template-columns: 1fr;
        }
        
        .action-buttons {
            flex-direction: column;
            align-items: stretch;
        }
        
        .btn-hero {
            width: 100%;
            justify-content: center;
        }
        
        .user-dashboard {
            padding: 30px 20px;
        }
    }
</style>
{% endblock %}

{% block content %}
    {% if not user.is_authenticated %}
        <!-- –ì–õ–ê–í–ù–ê–Ø –î–õ–Ø –ì–û–°–¢–ï–ô -->
        <div class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">HorseAI ‚Äî –£–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ª–æ—à–∞–¥–µ–π</h1>
                <p class="hero-subtitle">
                    –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –ª–æ—à–∞–¥–µ–π, –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–æ–≤ –∏ —Ç—Ä–µ–Ω–µ—Ä–æ–≤. 
                    –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ—Ö–æ–¥–∫–∏, –≤—ã—è–≤–ª–µ–Ω–∏—è —Ö—Ä–æ–º–æ—Ç—ã 
                    –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —É—Ö–æ–¥–∞ –∑–∞ –∂–∏–≤–æ—Ç–Ω—ã–º–∏.
                </p>
                
                <div class="action-buttons">
                    <a href="/login/" class="btn-hero btn-primary-lg">
                        <span>üöÄ</span>
                        –ù–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
                    </a>
                    <a href="#features" class="btn-hero btn-secondary-lg">
                        <span>üîç</span>
                        –£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ
                    </a>
                </div>
            </div>
        </div>

        <!-- –í–û–ó–ú–û–ñ–ù–û–°–¢–ò –°–ò–°–¢–ï–ú–´ -->
        <div id="features" class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">üéØ</div>
                <h3 class="feature-title">–¢–æ—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Ö–æ–¥–∫–∏</h3>
                <p class="feature-description">
                    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ç–æ—á–µ–∫ —Ç–µ–ª–∞ –ª–æ—à–∞–¥–∏ —Å –ø–æ–º–æ—â—å—é 
                    –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è. –û—Ü–µ–Ω–∫–∞ —Å–∏–º–º–µ—Ç—Ä–∏–∏ –¥–≤–∏–∂–µ–Ω–∏–π –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ 
                    –º–∞–ª–µ–π—à–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Ö—Ä–æ–º–æ—Ç—ã.
                </p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üìä</div>
                <h3 class="feature-title">–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                <p class="feature-description">
                    –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –æ—Ç—á—ë—Ç—ã –ø–æ –∫–∞–∂–¥–æ–º—É –∞–Ω–∞–ª–∏–∑—É. –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è 
                    –∂–∏–≤–æ—Ç–Ω–æ–≥–æ. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π —Å –Ω–æ—Ä–º–∞–º–∏ –¥–ª—è –ø–æ—Ä–æ–¥—ã –∏ –≤–æ–∑—Ä–∞—Å—Ç–∞.
                </p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ü§ñ</div>
                <h3 class="feature-title">AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h3>
                <p class="feature-description">
                    –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º, –∫–æ—Ä–º–ª–µ–Ω–∏—é –∏ –ª–µ—á–µ–Ω–∏—é 
                    –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–≤–∏—Ç–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è.
                </p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üì±</div>
                <h3 class="feature-title">–£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</h3>
                <p class="feature-description">
                    –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω. –ü—Ä–æ—Å—Ç–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ. 
                    –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –î–æ—Å—Ç—É–ø —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
                </p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üõ°Ô∏è</div>
                <h3 class="feature-title">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö</h3>
                <p class="feature-description">
                    –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –†–∞–∑–¥–µ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤, 
                    –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–æ–≤ –∏ —Ç—Ä–µ–Ω–µ—Ä–æ–≤. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ.
                </p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üî¨</div>
                <h3 class="feature-title">–ù–∞—É—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥</h3>
                <p class="feature-description">
                    –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –ø—Ä–∏ —É—á–∞—Å—Ç–∏–∏ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–æ–≤-–æ—Ä—Ç–æ–ø–µ–¥–æ–≤. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è 
                    –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π.
                </p>
            </div>
        </div>

        <!-- –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢ -->
        <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: 40px; border: 1px solid var(--border); margin-bottom: 40px;">
            <h2 style="font-size: 32px; font-weight: 700; color: var(--text-primary); text-align: center; margin-bottom: 40px;">
                üé¨ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç HorseAI
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px;">
                <div style="text-align: center;">
                    <div style="font-size: 48px; margin-bottom: 20px;">1</div>
                    <h3 style="font-size: 20px; font-weight: 600; color: var(--text-primary); margin-bottom: 10px;">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–¥–µ–æ</h3>
                    <p style="color: var(--text-secondary);">–°–Ω–∏–º–∏—Ç–µ –ª–æ—à–∞–¥—å –≤ –¥–≤–∏–∂–µ–Ω–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É</p>
                </div>
                
                <div style="text-align: center;">
                    <div style="font-size: 48px; margin-bottom: 20px;">2</div>
                    <h3 style="font-size: 20px; font-weight: 600; color: var(--text-primary); margin-bottom: 10px;">AI –∞–Ω–∞–ª–∏–∑</h3>
                    <p style="color: var(--text-secondary);">–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ—Ö–æ–¥–∫—É</p>
                </div>
                
                <div style="text-align: center;">
                    <div style="font-size: 48px; margin-bottom: 20px;">3</div>
                    <h3 style="font-size: 20px; font-weight: 600; color: var(--text-primary); margin-bottom: 10px;">–ü–æ–ª—É—á–∏—Ç–µ –æ—Ç—á—ë—Ç</h3>
                    <p style="color: var(--text-secondary);">–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</p>
                </div>
                
                <div style="text-align: center;">
                    <div style="font-size: 48px; margin-bottom: 20px;">4</div>
                    <h3 style="font-size: 20px; font-weight: 600; color: var(--text-primary); margin-bottom: 10px;">–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º</h3>
                    <p style="color: var(--text-secondary);">–ò—Å—Ç–æ—Ä–∏—è –∞–Ω–∞–ª–∏–∑–æ–≤ –∏ –¥–∏–Ω–∞–º–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è</p>
                </div>
            </div>
        </div>

        <!-- –ü–†–ò–ó–´–í –ö –î–ï–ô–°–¢–í–ò–Æ -->
        <div style="text-align: center; padding: 50px 20px;">
            <h2 style="font-size: 32px; font-weight: 700; color: var(--text-primary); margin-bottom: 20px;">
                –ì–æ—Ç–æ–≤—ã —É–ª—É—á—à–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ –≤–∞—à–∏—Ö –ª–æ—à–∞–¥–µ–π?
            </h2>
            <p style="color: var(--text-secondary); font-size: 18px; margin-bottom: 30px; max-width: 600px; margin-left: auto; margin-right: auto;">
                –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Ç—ã—Å—è—á–∞–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç HorseAI
            </p>
            <a href="/login/" class="btn-hero btn-primary-lg" style="display: inline-flex;">
                <span>üêé</span>
                –ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ
            </a>
        </div>

    {% else %}
        <!-- –ì–õ–ê–í–ù–ê–Ø –î–õ–Ø –ê–í–¢–û–†–ò–ó–û–í–ê–ù–ù–´–• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô -->
        <div class="user-dashboard">
            <h1 class="user-greeting">
                {% if user_role == 'admin' %}
                    üõ°Ô∏è –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä {{ user.username }}!
                {% else %}
                    üê¥ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ user.username }}!
                {% endif %}
            </h1>
            
            <p class="user-subtitle">
                {% now "H:i" %} ‚Ä¢ {% now "d E Y" %}
                {% if user_role == 'admin' %}
                    ‚Ä¢ –£ –≤–∞—Å –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º —Å–∏—Å—Ç–µ–º—ã
                {% else %}
                    ‚Ä¢ –†–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å —Å–Ω–æ–≤–∞!
                {% endif %}
            </p>
            
<!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
<div class="stats-grid">
    <div class="stat-card">
        <span class="stat-number" id="stat-animals">{{ animals_count|default:"0" }}</span>
        <span class="stat-label">
            {% if user_role == 'admin' %}
                üê¥ –ñ–∏–≤–æ—Ç–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ
            {% else %}
                –ú–æ–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö
            {% endif %}
        </span>
    </div>

    <div class="stat-card">
        <span class="stat-number" id="stat-videos">{{ videos_count|default:"0" }}</span>
        <span class="stat-label">
            {% if user_role == 'admin' %}
                üìπ –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
            {% else %}
                –ú–æ–∏—Ö –≤–∏–¥–µ–æ
            {% endif %}
        </span>
    </div>

    <div class="stat-card">
        <span class="stat-number" id="stat-analyses">{{ analyses_count|default:"0" }}</span>
        <span class="stat-label">
            {% if user_role == 'admin' %}
                üìä –ê–Ω–∞–ª–∏–∑–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
            {% else %}
                –ú–æ–∏—Ö –∞–Ω–∞–ª–∏–∑–æ–≤
            {% endif %}
        </span>
    </div>

    <div class="stat-card">
        <span class="stat-number" id="stat-users">{{ users_count|default:"0" }}</span>
        <span class="stat-label">
            {% if user_role == 'admin' %}
                üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            {% else %}
                –ê–∫—Ç–∏–≤–Ω—ã—Ö
            {% endif %}
        </span>
    </div>
</div>


            <!-- –ë–´–°–¢–†–´–ï –î–ï–ô–°–¢–í–ò–Ø -->
            <h2 style="font-size: 24px; font-weight: 600; color: var(--text-primary); margin: 40px 0 20px;">
                ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
            </h2>
            
            <div class="quick-actions">
                {% if user_role == 'admin' %}
                    <!-- –î–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
                    <a href="/dashboard/" class="quick-action-card">
                        <span class="quick-action-icon">üìä</span>
                        <h3 class="quick-action-title">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h3>
                        <p class="quick-action-desc">–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</p>
                    </a>

                    <a href="/admin/database/animal/" class="quick-action-card">
                        <span class="quick-action-icon">üê¥</span>
                        <h3 class="quick-action-title">–í—Å–µ –∂–∏–≤–æ—Ç–Ω—ã–µ</h3>
                        <p class="quick-action-desc">–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ –∂–∏–≤–æ—Ç–Ω—ã–º–∏</p>
                    </a>

                    <a href="/admin/database/video/" class="quick-action-card">
                        <span class="quick-action-icon">üìπ</span>
                        <h3 class="quick-action-title">–í—Å–µ –≤–∏–¥–µ–æ</h3>
                        <p class="quick-action-desc">–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ</p>
                    </a>

                    <a href="/admin/database/analysis/" class="quick-action-card">
                        <span class="quick-action-icon">üìä</span>
                        <h3 class="quick-action-title">–í—Å–µ –∞–Ω–∞–ª–∏–∑—ã</h3>
                        <p class="quick-action-desc">–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∞–Ω–∞–ª–∏–∑–æ–≤</p>
                    </a>

                    <a href="/admin/database/user/" class="quick-action-card">
                        <span class="quick-action-icon">üë•</span>
                        <h3 class="quick-action-title">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
                        <p class="quick-action-desc">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã–º–∏ –∑–∞–ø–∏—Å—è–º–∏</p>
                    </a>

                    <a href="/admin/" class="quick-action-card">
                        <span class="quick-action-icon">‚öôÔ∏è</span>
                        <h3 class="quick-action-title">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h3>
                        <p class="quick-action-desc">–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Django</p>
                    </a>

                {% else %}
                    <!-- –î–µ–π—Å—Ç–≤–∏—è –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                    <a href="/animals/" class="quick-action-card">
                        <span class="quick-action-icon">üê¥</span>
                        <h3 class="quick-action-title">–ú–æ–∏ –ª–æ—à–∞–¥–∏</h3>
                        <p class="quick-action-desc">–î–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∂–∏–≤–æ—Ç–Ω—ã–º–∏</p>
                    </a>

                    <a href="/video-upload/" class="quick-action-card">
                        <span class="quick-action-icon">üìπ</span>
                        <h3 class="quick-action-title">–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ</h3>
                        <p class="quick-action-desc">–ê–Ω–∞–ª–∏–∑ –ø–æ—Ö–æ–¥–∫–∏ –ª–æ—à–∞–¥–∏</p>
                    </a>

                    <a href="/analysis/results/" class="quick-action-card">
                        <span class="quick-action-icon">üìä</span>
                        <h3 class="quick-action-title">–ú–æ–∏ –∞–Ω–∞–ª–∏–∑—ã</h3>
                        <p class="quick-action-desc">–ò—Å—Ç–æ—Ä–∏—è –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–æ–≤</p>
                    </a>

                    <!-- –£–±–∏—Ä–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å, —Ç.–∫. –µ—ë –Ω–µ—Ç -->
                    <div class="quick-action-card" style="opacity: 0.7; cursor: not-allowed;">
                        <span class="quick-action-icon">üë§</span>
                        <h3 class="quick-action-title">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h3>
                        <p class="quick-action-desc">–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</p>
                    </div>
                {% endif %}  <!-- –û–ß–ï–ù–¨ –í–ê–ñ–ù–û: –∑–∞–∫—Ä—ã–≤–∞–µ–º –±–ª–æ–∫ if -->
            </div>

            
            <!-- –ü–û–°–õ–ï–î–ù–ò–ï –ê–ö–¢–ò–í–ù–û–°–¢–ò -->
            <div style="margin-top: 40px; padding-top: 30px; border-top: 1px solid var(--border);">
                <h3 style="font-size: 20px; font-weight: 600; color: var(--text-primary); margin-bottom: 20px;">
                    üìà –ù–µ–¥–∞–≤–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
                </h3>
                
                {% if user_role == 'admin' and latest_animals %}
                    <div style="background: var(--bg-hover); border-radius: var(--radius); padding: 20px; border: 1px solid var(--border);">
                        <h4 style="font-size: 16px; font-weight: 600; color: var(--text-secondary); margin-bottom: 15px;">
                            –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –∂–∏–≤–æ—Ç–Ω—ã–µ:
                        </h4>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            {% for animal in latest_animals|slice:":3" %}
                            <div style="background: var(--bg-card); padding: 15px; border-radius: var(--radius); border: 1px solid var(--border); min-width: 200px;">
                                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 5px;">
                                    {{ animal.name|default:"–ë–µ–∑ –∏–º–µ–Ω–∏" }}
                                </div>
                                <div style="font-size: 13px; color: var(--text-secondary);">
                                    {{ animal.user.username }} ‚Ä¢ {{ animal.created_at|date:"d.m.Y" }}
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                {% elif user_role == 'user' %}
                    <div style="text-align: center; padding: 30px; color: var(--text-secondary);">
                        <div style="font-size: 48px; margin-bottom: 15px;">üìã</div>
                        <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤–∞—à–∞ –Ω–µ–¥–∞–≤–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</p>
                        <p style="font-size: 13px; margin-top: 10px;">–ù–∞—á–Ω–∏—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å –ª–æ—à–∞–¥–µ–π –∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–∏–¥–µ–æ</p>
                    </div>
                {% else %}
                    <div style="text-align: center; padding: 30px; color: var(--text-secondary);">
                        <div style="font-size: 48px; margin-bottom: 15px;">üìä</div>
                        <p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ–± –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</p>
                    </div>
                {% endif %}
            </div>
        </div>
    {% endif %}
{% endblock %}

{% block extra_js %}
<script>
// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ - –¢–û–õ–¨–ö–û –î–õ–Ø –ê–î–ú–ò–ù–û–í
document.addEventListener('DOMContentLoaded', function() {
    {% if user.is_authenticated and user_role == 'admin' %}
    // –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –ø–æ–ª—É—á–∞—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–∑ API
    const usersElement = document.getElementById('stat-users');
    const animalsElement = document.getElementById('stat-animals');
    const videosElement = document.getElementById('stat-videos');
    const analysesElement = document.getElementById('stat-analyses');

    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ —Å API (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤!)
    fetch('/api/system-stats/')
        .then(response => {
            if (!response.ok) throw new Error('Network error');
            return response.json();
        })
        .then(data => {
            console.log('API —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞:', data);

            if (data.status === 'success') {
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —Å—á–µ—Ç—á–∏–∫–∏
                if (usersElement) usersElement.textContent = data.users_count || '0';
                if (animalsElement) animalsElement.textContent = data.animals_count || '0';
                if (videosElement) videosElement.textContent = data.videos_count || '0';
                if (analysesElement) analysesElement.textContent = data.analyses_count || '0';
            }
        })
        .catch(error => {
            console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:', error);
        });
    {% else %}
    // –î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ù–ï –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —á–µ—Ä–µ–∑ API
    console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—ã—á–Ω—ã–π - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ API');
    {% endif %}
});
</script>
{% endblock %}
